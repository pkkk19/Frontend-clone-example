"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[217],{73217:function(e,t,s){s.r(t),s.d(t,{default:function(){return be}});var n=s(72791),r=s(79337),l=s(48030),a=s(8842),i=s(94490),c=s(69647),o=s(63446),d=s(3455),u=s(94102),m=s(87462),h=s(4942),x=s(29439),v=s(60732),f=s(68944),j=s(35796),p=s(29966),Z=s(11532),w=s(37557),g=s(10187),b=s(83844),y=s(82621),N=s(15207),_=s(81694),k=s.n(_),C=s(69077),M=s(69019),O=s(15671),E=s(43144),S=s(60136),U=s(29388),I=function(e){(0,S.Z)(s,e);var t=(0,U.Z)(s);function s(){var e;return(0,O.Z)(this,s),(e=t.apply(this,arguments)).state={error:void 0,info:{componentStack:""}},e}return(0,E.Z)(s,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.message,s=e.description,r=e.children,l=this.state,a=l.error,i=l.info,c=i&&i.componentStack?i.componentStack:null,o="undefined"===typeof t?(a||"").toString():t,d="undefined"===typeof s?c:s;return a?n.createElement($,{type:"error",message:o,description:n.createElement("pre",null,d)}):r}}]),s}(n.Component),z=s(61113),W=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(s[n[r]]=e[n[r]])}return s},P={success:w.Z,info:b.Z,error:y.Z,warning:g.Z},A={success:f.Z,info:p.Z,error:Z.Z,warning:j.Z},D=function(e){var t,s=e.description,r=e.prefixCls,l=e.message,a=e.banner,i=e.className,c=void 0===i?"":i,o=e.style,d=e.onMouseEnter,u=e.onMouseLeave,f=e.onClick,j=e.afterClose,p=e.showIcon,Z=e.closable,w=e.closeText,g=e.closeIcon,b=void 0===g?n.createElement(v.Z,null):g,y=e.action,_=W(e,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),O=n.useState(!1),E=(0,x.Z)(O,2),S=E[0],U=E[1],I=n.useRef(),D=n.useContext(C.E_),$=D.getPrefixCls,L=D.direction,T=$("alert",r),Y=function(e){var t;U(!0),null===(t=_.onClose)||void 0===t||t.call(_,e)},H=!!w||Z,B=function(){var e=_.type;return void 0!==e?e:a?"warning":"info"}(),J=!(!a||void 0!==p)||p,R=k()(T,"".concat(T,"-").concat(B),(t={},(0,h.Z)(t,"".concat(T,"-with-description"),!!s),(0,h.Z)(t,"".concat(T,"-no-icon"),!J),(0,h.Z)(t,"".concat(T,"-banner"),!!a),(0,h.Z)(t,"".concat(T,"-rtl"),"rtl"===L),t),c),K=(0,M.Z)(_);return n.createElement(N.default,{visible:!S,motionName:"".concat(T,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(e){return{maxHeight:e.offsetHeight}},onLeaveEnd:j},(function(e){var t=e.className,r=e.style;return n.createElement("div",(0,m.Z)({ref:I,"data-show":!S,className:k()(R,t),style:(0,m.Z)((0,m.Z)({},o),r),onMouseEnter:d,onMouseLeave:u,onClick:f,role:"alert"},K),J?function(){var e=_.icon,t=(s?A:P)[B]||null;return e?(0,z.wm)(e,n.createElement("span",{className:"".concat(T,"-icon")},e),(function(){return{className:k()("".concat(T,"-icon"),(0,h.Z)({},e.props.className,e.props.className))}})):n.createElement(t,{className:"".concat(T,"-icon")})}():null,n.createElement("div",{className:"".concat(T,"-content")},l?n.createElement("div",{className:"".concat(T,"-message")},l):null,s?n.createElement("div",{className:"".concat(T,"-description")},s):null),y?n.createElement("div",{className:"".concat(T,"-action")},y):null,H?n.createElement("button",{type:"button",onClick:Y,className:"".concat(T,"-close-icon"),tabIndex:0},w?n.createElement("span",{className:"".concat(T,"-close-text")},w):b):null)}))};D.ErrorBoundary=I;var $=D,L=s(66106),T=s(30914),Y=s(33168),H=s(54080),B=s(66818),J=s(37083),R=s(75594),K=s(72426),q=s.n(K),F=s(94169),G=s(16056),Q=s(80184);function V(){var e=(0,Y.$)().t,t=(0,r.I0)(),s=(0,r.v9)((function(e){return e.orderCounts}),r.wU),l=s.counts,a=s.params,i=s.loading,c=(0,r.v9)((function(e){return e.auth.user}),r.wU).role,o=(0,r.v9)((function(e){return e.theme.theme}),r.wU).direction,u=(0,n.useMemo)((function(){return l.map((function(e){return q()(e.date).format("D MMM")}))}),[l]),m=(0,n.useMemo)((function(){return[{name:e("orders"),data:l.map((function(e){return e.count}))}]}),[l]);return(0,Q.jsxs)(H.Z,{title:e("orders"),style:{overflow:"hidden"},extra:(0,Q.jsxs)(B.Z,{value:a.time,size:"small",style:{minWidth:110},onSelect:function(e){var s={time:e};switch(t((0,d.KJ)(s)),c){case"admin":t((0,d.n8)(s));break;case"seller":t((0,d._I)(s))}},children:[(0,Q.jsx)(B.Z.Option,{value:"subWeek",children:e("this.week")}),(0,Q.jsx)(B.Z.Option,{value:"subMonth",children:e("this.month")}),(0,Q.jsx)(B.Z.Option,{value:"subYear",children:e("this.year")})]}),children:[i&&(0,Q.jsx)("div",{className:"loader",children:(0,Q.jsx)(J.Z,{})}),(0,Q.jsx)("div",{className:"d-flex",children:(0,Q.jsxs)("div",{className:"mr-5",children:[(0,Q.jsx)("h2",{className:"font-weight-bold mb-1",children:l.reduce((function(e,t){return e+t.count}),0)}),(0,Q.jsxs)("p",{children:[(0,Q.jsx)(R.Z,{color:G.DM[6]}),e("total.orders.count")]})]})}),(0,Q.jsx)("div",{children:(0,Q.jsx)(F.Z,{card:!1,series:m,xAxis:u,height:280,customOptions:{colors:[G.DM[6],G.DM[0]],legend:{show:!1},stroke:{width:2.5,curve:"smooth"}},direction:o})})]})}var X=s(39366);function ee(){var e=(0,Y.$)().t,t=(0,r.I0)(),s=(0,r.v9)((function(e){return e.currency}),r.wU).defaultCurrency,l=(0,r.v9)((function(e){return e.orderSales}),r.wU),a=l.sales,i=l.params,c=l.loading,o=(0,r.v9)((function(e){return e.auth.user}),r.wU).role,d=(0,r.v9)((function(e){return e.theme.theme}),r.wU).direction,m=(0,n.useMemo)((function(){return a.map((function(e){return q()(e.date).format("D MMM")}))}),[a]),h=(0,n.useMemo)((function(){return[{name:e("sales"),data:a.map((function(e){return e.price}))}]}),[a]);return(0,Q.jsxs)(H.Z,{title:e("sales"),style:{overflow:"hidden"},extra:(0,Q.jsxs)(B.Z,{value:i.time,size:"small",style:{minWidth:110},onSelect:function(e){var s={time:e};switch(t((0,u.wJ)(s)),o){case"admin":t((0,u.yS)(s));break;case"seller":t((0,u.xe)(s))}},children:[(0,Q.jsx)(B.Z.Option,{value:"subWeek",children:e("this.week")}),(0,Q.jsx)(B.Z.Option,{value:"subMonth",children:e("this.month")}),(0,Q.jsx)(B.Z.Option,{value:"subYear",children:e("this.year")})]}),children:[c&&(0,Q.jsx)("div",{className:"loader",children:(0,Q.jsx)(J.Z,{})}),(0,Q.jsx)("div",{className:"d-flex",children:(0,Q.jsxs)("div",{className:"mr-5",children:[(0,Q.jsx)("h2",{className:"font-weight-bold mb-1",children:(0,X.Z)(a.reduce((function(e,t){return e+t.price}),0),s.symbol)}),(0,Q.jsxs)("p",{children:[(0,Q.jsx)(R.Z,{color:G.DM[0]}),e("total.sales.amount")]})]})}),(0,Q.jsx)("div",{children:(0,Q.jsx)(F.Z,{card:!1,type:"area",series:h,xAxis:m,height:280,customOptions:{colors:G.DM,legend:{show:!1},stroke:{width:2.5,curve:"smooth"}},direction:d})})]})}function te(e){var t=e.title,s=void 0===t?"Orders":t,n=e.value,r=void 0===n?0:n;return(0,Q.jsx)(H.Z,{className:"statistics-card",children:(0,Q.jsxs)("div",{className:"card-wrapper",children:[(0,Q.jsx)("div",{className:"space"}),(0,Q.jsx)("h1",{className:"mb-0 font-weight-bold number",children:r}),(0,Q.jsx)("span",{className:"highlighter ".concat(r<10?"red":r<100?"grey":"green")}),s&&(0,Q.jsx)("h4",{className:"title",children:s})]})})}function se(e){var t=e.title,s=void 0===t?"Orders":t,n=e.value,l=void 0===n?0:n,a=e.subtitle,i=(0,r.v9)((function(e){return e.currency}),r.wU).defaultCurrency;return(0,Q.jsxs)(H.Z,{children:[s&&(0,Q.jsx)("h4",{className:"mb-0",children:s}),(0,Q.jsx)("div",{className:"".concat(s?"mt-3":""),children:(0,Q.jsxs)("div",{children:[(0,Q.jsx)("div",{className:"d-flex align-items-center",children:(0,Q.jsx)("h1",{className:"mb-0 font-weight-bold",children:(0,X.Z)(l,null===i||void 0===i?void 0:i.symbol)})}),a&&(0,Q.jsx)("div",{className:"text-gray-light mt-1",children:a})]})})]})}var ne=s(36755),re=s(69421),le=s(17753);function ae(){var e=(0,Y.$)().t,t=(0,r.I0)(),s=(0,r.v9)((function(e){return e.topCustomers}),r.wU),n=s.topCustomers,l=s.loading,a=s.params,c=(0,r.v9)((function(e){return e.currency}),r.wU).defaultCurrency,o=(0,r.v9)((function(e){return e.auth.user}),r.wU).role;return console.log("topCustomers",n),(0,Q.jsxs)(H.Z,{title:e("top.customers"),extra:(0,Q.jsxs)(B.Z,{value:a.time,size:"small",style:{minWidth:110},onSelect:function(e){var s={time:e};switch(o){case"admin":t((0,i.Ww)(s)),t((0,i.sl)(s));break;case"seller":t((0,i.Ww)(s)),t((0,i.n)(s))}},children:[(0,Q.jsx)(B.Z.Option,{value:"subWeek",children:e("this.week")}),(0,Q.jsx)(B.Z.Option,{value:"subMonth",children:e("this.month")}),(0,Q.jsx)(B.Z.Option,{value:"subYear",children:e("this.year")})]}),children:[l&&(0,Q.jsx)("div",{className:"loader",children:(0,Q.jsx)(J.Z,{})}),n.length?n.map((function(t,s){return(0,Q.jsxs)("div",{className:"w-100 py-3 flex",children:[(0,Q.jsxs)("div",{className:"d-flex avatar",children:[(0,Q.jsx)(ne.Z,{src:(0,le.Z)(t.img),width:40,height:40,preview:!1,className:"rounded"}),(0,Q.jsxs)("div",{className:"ml-2 avatar-text",children:[(0,Q.jsx)("h5",{className:"title",children:t.firstname+" "+t.lastname}),(0,Q.jsx)("div",{className:"text-muted",children:t.phone})]})]}),(0,Q.jsx)("div",{className:"d-flex",children:(0,Q.jsxs)("div",{className:"mr-3 text-right",children:[(0,Q.jsx)("span",{className:"text-muted",children:e("orders")}),(0,Q.jsx)("div",{className:"mb-0 h5 font-weight-bold",children:(0,X.Z)(t.orders_sum_price,c.symbol)})]})})]},s)})):(0,Q.jsx)(re.Z,{})]})}var ie=s(6533);function ce(){var e=(0,Y.$)().t,t=(0,r.I0)(),s=(0,r.v9)((function(e){return e.topProducts}),r.wU),n=s.topProducts,l=s.loading,a=s.params,i=(0,r.v9)((function(e){return e.auth.user}),r.wU).role;return console.log("topProducts",n),(0,Q.jsxs)(H.Z,{title:e("top.selled.products"),extra:(0,Q.jsxs)(B.Z,{value:a.time,size:"small",style:{minWidth:110},onSelect:function(e){var s={time:e};switch(t((0,c.ut)(s)),i){case"admin":t((0,c.hT)(s));break;case"seller":t((0,c.t3)(s))}},children:[(0,Q.jsx)(B.Z.Option,{value:"subWeek",children:e("this.week")}),(0,Q.jsx)(B.Z.Option,{value:"subMonth",children:e("this.month")}),(0,Q.jsx)(B.Z.Option,{value:"subYear",children:e("this.year")})]}),children:[l&&(0,Q.jsx)("div",{className:"loader",children:(0,Q.jsx)(J.Z,{})}),n.length?n.map((function(t,s){var n,r,l;return(0,Q.jsxs)("div",{className:"w-100 py-3 flex",children:[(0,Q.jsxs)("div",{className:"d-flex avatar",children:[(0,Q.jsx)(ne.Z,{src:(0,ie.Z)(null===(n=t.product)||void 0===n?void 0:n.img),width:40,height:40,preview:!1}),(0,Q.jsx)("div",{className:"ml-2 avatar-text",children:(0,Q.jsx)("h5",{className:"title",children:null===(r=t.product)||void 0===r||null===(l=r.translation)||void 0===l?void 0:l.title})})]}),(0,Q.jsx)("div",{className:"d-flex",children:(0,Q.jsxs)("div",{className:"mr-3 text-right",children:[(0,Q.jsx)("span",{className:"text-muted",children:e("sales")}),(0,Q.jsx)("div",{className:"mb-0 h5 font-weight-bold",children:t.orders_count})]})})]},s)})):(0,Q.jsx)(re.Z,{})]})}function oe(){var e=(0,Y.$)().t,t=(0,r.v9)((function(e){return e.auth}),r.wU).user,s=(0,r.v9)((function(e){return e.statisticsCount}),r.wU).counts,n=(0,r.v9)((function(e){return e.myShop.myShop}),r.wU).subscription;return(0,Q.jsxs)("div",{children:[n&&"seller"===(null===t||void 0===t?void 0:t.role)&&(0,Q.jsx)($,{message:(0,Q.jsxs)("div",{children:[e("your.current.subscription")," ",(0,Q.jsx)("span",{className:"font-weight-bold",children:n.type})," ",e("will.expire.at")," ",n.expired_at]}),type:"info"}),(0,Q.jsxs)(L.Z,{gutter:16,className:"mt-3",children:[(0,Q.jsx)(T.Z,{flex:"0 0 12.5%",children:(0,Q.jsx)(te,{title:e("new.orders"),value:s.count_new_orders})}),(0,Q.jsx)(T.Z,{flex:"0 0 12.5%",children:(0,Q.jsx)(te,{title:e("cancelled.orders"),value:s.count_canceled_orders})}),(0,Q.jsx)(T.Z,{flex:"0 0 12.5%",children:(0,Q.jsx)(te,{title:e("delivered.orders"),value:s.count_delivered_orders})}),(0,Q.jsx)(T.Z,{flex:"0 0 12.5%",children:(0,Q.jsx)(te,{title:e("out.of.stock.products"),value:s.count_out_of_stock_product})}),(0,Q.jsx)(T.Z,{flex:"0 0 12.5%",children:(0,Q.jsx)(te,{title:e("total.products"),value:s.count_product})}),(0,Q.jsx)(T.Z,{flex:"0 0 12.5%",children:(0,Q.jsx)(te,{title:e("order.reviews"),value:s.reviews})}),(0,Q.jsx)(T.Z,{flex:"0 0 12.5%",children:(0,Q.jsx)(te,{title:e("accepted.orders"),value:s.count_accepted_orders})}),(0,Q.jsx)(T.Z,{flex:"0 0 12.5%",children:(0,Q.jsx)(te,{title:e("on.a.way.orders"),value:s.count_on_a_way_orders})})]}),(0,Q.jsxs)(L.Z,{gutter:16,children:[(0,Q.jsx)(T.Z,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,Q.jsx)(se,{title:e("total.earned"),value:s.total_earned,subtitle:e("last.30.days")})}),(0,Q.jsx)(T.Z,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,Q.jsx)(se,{title:e("delivery.earning"),value:s.delivery_earned,subtitle:e("last.30.days")})}),(0,Q.jsx)(T.Z,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,Q.jsx)(se,{title:e("total.order.tax"),value:s.tax_earned,subtitle:e("last.30.days")})}),(0,Q.jsx)(T.Z,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,Q.jsx)(se,{title:e("total.comission"),value:s.commission_fee,subtitle:e("last.30.days")})})]}),(0,Q.jsxs)(L.Z,{gutter:24,children:[(0,Q.jsx)(T.Z,{span:12,children:(0,Q.jsx)(V,{})}),(0,Q.jsx)(T.Z,{span:12,children:(0,Q.jsx)(ae,{})}),(0,Q.jsx)(T.Z,{span:12,children:(0,Q.jsx)(ce,{})}),(0,Q.jsx)(T.Z,{span:12,children:(0,Q.jsx)(ee,{})})]})]})}var de=s(28748);function ue(){var e,t=(0,Y.$)().t,s=(0,n.useState)(null),l=(0,x.Z)(s,2),a=l[0],i=l[1],c=(0,r.v9)((function(e){return e.statisticsCount}),r.wU).counts;return(0,n.useEffect)((function(){de.Z.profileShow().then((function(e){var t=e.data;return i(t)}))}),[]),(0,Q.jsxs)("div",{children:[(0,Q.jsxs)(L.Z,{gutter:16,className:"mt-3",children:[(0,Q.jsx)(T.Z,{flex:"0 0 16.6%",children:(0,Q.jsx)(te,{title:t("total.orders"),value:c.orders_count})}),(0,Q.jsx)(T.Z,{flex:"0 0 16.6%",children:(0,Q.jsx)(te,{title:t("in.progress.orders"),value:c.progress_orders_count})}),(0,Q.jsx)(T.Z,{flex:"0 0 16.6%",children:(0,Q.jsx)(te,{title:t("cancelled.orders"),value:c.cancel_orders_count})}),(0,Q.jsx)(T.Z,{flex:"0 0 16.6%",children:(0,Q.jsx)(te,{title:t("delivered.orders"),value:c.delivered_orders_count})})]}),(0,Q.jsx)(L.Z,{gutter:16,children:(0,Q.jsx)(T.Z,{xs:24,sm:24,md:24,lg:24,xl:6,children:(0,Q.jsx)(se,{title:t("balance"),value:null===a||void 0===a||null===(e=a.wallet)||void 0===e?void 0:e.price})})})]})}var me=s(77063),he=s(87309),xe=s(16871),ve=s(1413),fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm352 0a48 48 0 1096 0 48 48 0 10-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 01248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 01249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 01775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 01775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4z"}}]},name:"smile",theme:"outlined"},je=s(54291),pe=function(e,t){return n.createElement(je.Z,(0,ve.Z)((0,ve.Z)({},e),{},{ref:t,icon:fe}))};pe.displayName="SmileOutlined";var Ze=n.forwardRef(pe);function we(){var e=(0,Y.$)().t,t=(0,r.I0)(),s=(0,xe.s0)(),n=(0,r.v9)((function(e){return e.auth}),r.wU).user;return(0,Q.jsx)(H.Z,{children:(0,Q.jsx)(me.ZP,{icon:(0,Q.jsx)(Ze,{}),title:"".concat(e("welcome"),", ").concat(null===n||void 0===n?void 0:n.fullName),subTitle:e("welcome.manager"),extra:(0,Q.jsx)(he.Z,{type:"primary",onClick:function(){t((0,l.bL)({id:"orders",url:"orders",name:e("orders")})),s("/orders")},children:e("get.started")})})})}function ge(){var e=(0,Y.$)().t,t=(0,r.I0)(),s=(0,xe.s0)(),n=(0,r.v9)((function(e){return e.auth}),r.wU).user;return(0,Q.jsx)(H.Z,{children:(0,Q.jsx)(me.ZP,{icon:(0,Q.jsx)(Ze,{}),title:"".concat(e("welcome"),", ").concat(null===n||void 0===n?void 0:n.fullName),subTitle:e("welcome.manager"),extra:(0,Q.jsx)(he.Z,{type:"primary",onClick:function(){t((0,l.bL)({id:"orders",url:"seller/orders",name:e("orders")})),s("/seller/orders")},children:e("get.started")})})})}function be(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.menu}),r.wU).activeMenu,s=(0,r.v9)((function(e){return e.auth}),r.wU).user,m=(0,r.v9)((function(e){return e.statisticsCount}),r.wU).loading;(0,n.useEffect)((function(){t.refetch&&(!function(){switch(null===s||void 0===s?void 0:s.role){case"admin":e((0,a.E6)()),e((0,i.sl)()),e((0,c.hT)()),e((0,d.n8)()),e((0,u.yS)());break;case"manager":case"moderator":case"deliveryman":default:break;case"seller":e((0,a.gm)()),e((0,i.n)()),e((0,c.t3)()),e((0,d._I)()),e((0,u.xe)())}}(),e((0,l.A_)(t)))}),[t.refetch]);return(0,Q.jsx)("div",{className:"h-100",children:m?(0,Q.jsx)(o.Z,{size:"large"}):function(){switch(s.role){case"admin":case"seller":return(0,Q.jsx)(oe,{});case"manager":return(0,Q.jsx)(we,{});case"moderator":return(0,Q.jsx)(ge,{});case"deliveryman":return(0,Q.jsx)(ue,{});default:return null}}()})}}}]);
//# sourceMappingURL=217.26be1606.chunk.js.map